(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75c745d2"],{1169:function(t,e,n){var r=n("2d95");t.exports=Array.isArray||function(t){return"Array"==r(t)}},"11e9":function(t,e,n){var r=n("52a7"),a=n("4630"),i=n("6821"),o=n("6a99"),s=n("69a8"),c=n("c69a"),l=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?l:function(t,e){if(t=i(t),e=o(e,!0),c)try{return l(t,e)}catch(n){}if(s(t,e))return a(!r.f.call(t,e),t[e])}},"1c4c":function(t,e,n){"use strict";var r=n("9b43"),a=n("5ca1"),i=n("4bf8"),o=n("1fa8"),s=n("33a4"),c=n("9def"),l=n("f1ae"),u=n("27ee");a(a.S+a.F*!n("5cc5")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,a,f,p=i(t),d="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,b=void 0!==v,y=0,m=u(p);if(b&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==m||d==Array&&s(m))for(e=c(p.length),n=new d(e);e>y;y++)l(n,y,b?v(p[y],y):p[y]);else for(f=m.call(p),n=new d;!(a=f.next()).done;y++)l(n,y,b?o(f,v,[a.value,y],!0):a.value);return n.length=y,n}})},"37c8":function(t,e,n){e.f=n("2b4c")},"3a72":function(t,e,n){var r=n("7726"),a=n("8378"),i=n("2d00"),o=n("37c8"),s=n("86cc").f;t.exports=function(t){var e=a.Symbol||(a.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},"5bb2":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"adddiscount"},[n("el-container",[n("el-aside",{attrs:{width:"200px"}},[n("NavTo")],1),n("el-container",[n("el-header",{staticStyle:{"border-bottom":"1px solid #d0d0d0","background-color":"#FFFFFF"}},[n("Header")],1),n("transition",{attrs:{appear:"","appear-active-class":"animated fadeInLeft"}},[n("el-main",[n("div",{staticClass:"add"},[n("div",{staticClass:"add_btn"},[n("el-button",{attrs:{type:"primary"},on:{click:t.jumpback}},[t._v("返回")])],1),n("div",{staticClass:"xiao"},[t._v("选择分销商品")]),n("el-tabs",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"border-card"},model:{value:t.active_name,callback:function(e){t.active_name=e},expression:"active_name"}},[n("el-tab-pane",{attrs:{label:"第一步：选择商品",name:"one"}},[n("div",{staticClass:"choose"},[n("div",{staticClass:"search"},[n("el-input",{staticStyle:{width:"15%","margin-right":"10px"},attrs:{size:"small",placeholder:"请输入商品名称"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search_fx(t.fx_search_key)}},model:{value:t.fx_search_key,callback:function(e){t.fx_search_key=e},expression:"fx_search_key"}}),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.search_fx(t.fx_search_key)}}},[t._v("搜索")]),n("el-button",{attrs:{type:"success",size:"small"},on:{click:t.reset}},[t._v("重置")])],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableDataA}},[n("el-table-column",{attrs:{prop:"",label:"商品信息"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"pro"},[n("div",{staticClass:"pro_02"},[n("img",{attrs:{src:t.$getimg+e.row.imgs}})]),n("div",{staticClass:"pro_03"},[n("div",{staticClass:"pro_03_1"},[t._v(t._s(e.row.goods_name))]),n("div",{staticClass:"pro_03_2"},[t._v("¥"+t._s(e.row.price))])])])]}}])}),n("el-table-column",{attrs:{prop:"operation",label:"操作",width:"300px"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.is_reseller?n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return t.join(e.row,e.$index)}}},[t._v("参加分销")]):t._e(),1==e.row.is_reseller?n("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",type:"danger",size:"small"},on:{click:function(n){return t.cancel(e.$index,e.row.goods_id)}},slot:"reference"},[t._v("取消")]):t._e()]}}])})],1)],1),n("div",{staticClass:"quan"},[n("div",{staticClass:"quan_l"},[n("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",size:"small"},on:{click:t.quanxuan}},[t._v("全选")])],1)])]),1==t.is_two?n("el-tab-pane",{attrs:{label:"第二步：设置佣金",name:"two"}},[n("div",{staticClass:"choose"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableDataB}},[n("el-table-column",{attrs:{prop:"",label:""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"pro"},[n("div",{staticClass:"pro_02"},[n("img",{attrs:{src:t.$getimg+e.row.imgs}})]),n("div",{staticClass:"pro_03"},[n("div",{staticClass:"pro_03_1"},[t._v(t._s(e.row.goods_name))]),n("div",{staticClass:"pro_03_2"},[t._v("¥"+t._s(e.row.price))])])])]}}],null,!1,2520503948)}),n("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t分销佣金："),n("input",{directives:[{name:"model",rawName:"v-model",value:e.row.fx_price,expression:"scope.row.fx_price"}],staticStyle:{width:"200px",border:"1px solid #00B7EE","border-radius":"4px",height:"30px","padding-left":"10px"},attrs:{placeholder:"请输入佣金金额"},domProps:{value:e.row.fx_price},on:{input:function(n){n.target.composing||t.$set(e.row,"fx_price",n.target.value)}}})])]}}],null,!1,3237185756)}),n("el-table-column",{attrs:{prop:"operation",label:"",width:"300px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return t.cancel(e.$index,e.row.goods_id)}}},[t._v("取消")])]}}],null,!1,2294043626)})],1)],1),n("div",{staticClass:"quan"})]):t._e(),n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.size},on:{"current-change":t.jump_page}})],1),n("span",{staticClass:"dialog-footer ",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.jumpback}},[t._v("取 消")]),t.is_next?n("el-button",{attrs:{type:"primary"},on:{click:t.next}},[t._v("下一步")]):t._e(),t.is_next?t._e():n("el-button",{attrs:{type:"primary"},on:{click:t.back}},[t._v("上一步")]),t.is_next?t._e():n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确 定")])],1)],1)])],1)],1)],1)],1)},a=[],i=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("ac6a"),n("5c96"),n("a49b"),n("15fc")),o=n("71c2");function s(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=c(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function c(t,e){if(t){if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u={data:function(){return{fx_search_key:"",is_reseller:1,is_two:0,active_name:"one",is_next:!0,choose:!0,price:"",obj:{id:"",commission:""},checked:"",tableDataA:[],tableDataB:[],oid:0,size:8,total:1e3,value:""}},watch:{active_name:function(){"one"==this.active_name&&(this.is_two=0,this.is_next=!0),"two"==this.active_name&&(this.is_two=1,this.is_next=!1)}},components:{Header:o["a"],NavTo:i["a"]},mounted:function(){this._load()},methods:{_load:function(){var t=this;this.http.get("fx/admin/get_goods?type=0").then((function(e){for(var n in e.data){var r=e.data[n];r.is_reseller=0}t.all=e.data,t.total=e.data.length,t.tableDataA=e.data.slice(0,t.size)}))},search_fx:function(t){var e=[];for(var n in this.all){var r=this.all[n];r.goods_name.indexOf(t)>=0&&e.push(r)}this.tableDataA=e},reset:function(){this._load(),this.fx_search_key=""},jump_page:function(t){console.log(t);var e=this,n=(t-1)*e.size,r=t*e.size;console.log(n,r),this.tableDataA=this.all.slice(n,r)},quanxuan:function(){this.tableDataB=this.tableDataA,this.$message({message:"已全部添加",type:"success"})},next:function(){this.is_two=1,this.active_name="two",this.is_next=!1},back:function(){this.is_two=0,this.active_name="one",this.is_next=!0},join:function(t,e){this.tableDataA[e].is_reseller=1;var n=this,r=n.tableDataB;0==r.length?(n.tableDataB.push(t),this.$message({message:"添加成功",type:"success"})):-1==JSON.stringify(r).indexOf(JSON.stringify(t))?(r.push(t),this.$message({message:"添加成功",type:"success"})):this.$message({message:"请勿重复添加",type:"warning"})},cancel:function(t,e){this.tableDataA[t].is_reseller=0;var n,r=s(this.tableDataB);try{for(r.s();!(n=r.n()).done;){var a=n.value;e==a.goods_id&&this.tableDataB.splice(t,1)}}catch(i){r.e(i)}finally{r.f()}console.log(this.tableDataB)},onSubmit:function(){var t=this,e=[];for(var n in this.tableDataB.forEach((function(t){e.push({goods_id:t.goods_id,price:t.fx_price,pro_price:t.price})})),e)if(1*e[n].price>=1*e[n].pro_price)return void this.$message({message:"分销佣金必须小于商品价格",type:"warning"});this.http.post_show("fx/admin/add_goods",e).then((function(e){200==e.status&&(t.$message({message:"添加成功",type:"success"}),t.$router.push({path:"/extend/reseller"}))}))},jumpback:function(){this.$router.push({path:"/extend/reseller"})}}},f=u,p=(n("7800"),n("2877")),d=Object(p["a"])(f,r,a,!1,null,null,null);e["default"]=d.exports},"5df3":function(t,e,n){"use strict";var r=n("02f4")(!0);n("01f9")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},"5f09":function(t,e,n){},"67ab":function(t,e,n){var r=n("ca5a")("meta"),a=n("d3f4"),i=n("69a8"),o=n("86cc").f,s=0,c=Object.isExtensible||function(){return!0},l=!n("79e5")((function(){return c(Object.preventExtensions({}))})),u=function(t){o(t,r,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!e)return"E";u(t)}return t[r].i},p=function(t,e){if(!i(t,r)){if(!c(t))return!0;if(!e)return!1;u(t)}return t[r].w},d=function(t){return l&&h.NEED&&c(t)&&!i(t,r)&&u(t),t},h=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:p,onFreeze:d}},7800:function(t,e,n){"use strict";n("5f09")},"7bbc":function(t,e,n){var r=n("6821"),a=n("9093").f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return a(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==i.call(t)?s(t):a(r(t))}},"7f7f":function(t,e,n){var r=n("86cc").f,a=Function.prototype,i=/^\s*function ([^ (]*)/,o="name";o in a||n("9e1e")&&r(a,o,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},"8a81":function(t,e,n){"use strict";var r=n("7726"),a=n("69a8"),i=n("9e1e"),o=n("5ca1"),s=n("2aba"),c=n("67ab").KEY,l=n("79e5"),u=n("5537"),f=n("7f20"),p=n("ca5a"),d=n("2b4c"),h=n("37c8"),v=n("3a72"),b=n("d4c0"),y=n("1169"),m=n("cb7c"),_=n("d3f4"),g=n("4bf8"),w=n("6821"),x=n("6a99"),S=n("4630"),k=n("2aeb"),O=n("7bbc"),j=n("11e9"),C=n("2621"),A=n("86cc"),D=n("0d58"),E=j.f,F=A.f,$=O.f,N=r.Symbol,z=r.JSON,P=z&&z.stringify,B="prototype",I=d("_hidden"),J=d("toPrimitive"),T={}.propertyIsEnumerable,q=u("symbol-registry"),K=u("symbols"),M=u("op-symbols"),W=Object[B],H="function"==typeof N&&!!C.f,Y=r.QObject,G=!Y||!Y[B]||!Y[B].findChild,L=i&&l((function(){return 7!=k(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=E(W,e);r&&delete W[e],F(t,e,n),r&&t!==W&&F(W,e,r)}:F,Q=function(t){var e=K[t]=k(N[B]);return e._k=t,e},U=H&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},R=function(t,e,n){return t===W&&R(M,e,n),m(t),e=x(e,!0),m(n),a(K,e)?(n.enumerable?(a(t,I)&&t[I][e]&&(t[I][e]=!1),n=k(n,{enumerable:S(0,!1)})):(a(t,I)||F(t,I,S(1,{})),t[I][e]=!0),L(t,e,n)):F(t,e,n)},V=function(t,e){m(t);var n,r=b(e=w(e)),a=0,i=r.length;while(i>a)R(t,n=r[a++],e[n]);return t},X=function(t,e){return void 0===e?k(t):V(k(t),e)},Z=function(t){var e=T.call(this,t=x(t,!0));return!(this===W&&a(K,t)&&!a(M,t))&&(!(e||!a(this,t)||!a(K,t)||a(this,I)&&this[I][t])||e)},tt=function(t,e){if(t=w(t),e=x(e,!0),t!==W||!a(K,e)||a(M,e)){var n=E(t,e);return!n||!a(K,e)||a(t,I)&&t[I][e]||(n.enumerable=!0),n}},et=function(t){var e,n=$(w(t)),r=[],i=0;while(n.length>i)a(K,e=n[i++])||e==I||e==c||r.push(e);return r},nt=function(t){var e,n=t===W,r=$(n?M:w(t)),i=[],o=0;while(r.length>o)!a(K,e=r[o++])||n&&!a(W,e)||i.push(K[e]);return i};H||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===W&&e.call(M,n),a(this,I)&&a(this[I],t)&&(this[I][t]=!1),L(this,t,S(1,n))};return i&&G&&L(W,t,{configurable:!0,set:e}),Q(t)},s(N[B],"toString",(function(){return this._k})),j.f=tt,A.f=R,n("9093").f=O.f=et,n("52a7").f=Z,C.f=nt,i&&!n("2d00")&&s(W,"propertyIsEnumerable",Z,!0),h.f=function(t){return Q(d(t))}),o(o.G+o.W+o.F*!H,{Symbol:N});for(var rt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),at=0;rt.length>at;)d(rt[at++]);for(var it=D(d.store),ot=0;it.length>ot;)v(it[ot++]);o(o.S+o.F*!H,"Symbol",{for:function(t){return a(q,t+="")?q[t]:q[t]=N(t)},keyFor:function(t){if(!U(t))throw TypeError(t+" is not a symbol!");for(var e in q)if(q[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),o(o.S+o.F*!H,"Object",{create:X,defineProperty:R,defineProperties:V,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:nt});var st=l((function(){C.f(1)}));o(o.S+o.F*st,"Object",{getOwnPropertySymbols:function(t){return C.f(g(t))}}),z&&o(o.S+o.F*(!H||l((function(){var t=N();return"[null]"!=P([t])||"{}"!=P({a:t})||"{}"!=P(Object(t))}))),"JSON",{stringify:function(t){var e,n,r=[t],a=1;while(arguments.length>a)r.push(arguments[a++]);if(n=e=r[1],(_(e)||void 0!==t)&&!U(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!U(e))return e}),r[1]=e,P.apply(z,r)}}),N[B][J]||n("32e9")(N[B],J,N[B].valueOf),f(N,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},9093:function(t,e,n){var r=n("ce10"),a=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,a)}},ac4d:function(t,e,n){n("3a72")("asyncIterator")},d4c0:function(t,e,n){var r=n("0d58"),a=n("2621"),i=n("52a7");t.exports=function(t){var e=r(t),n=a.f;if(n){var o,s=n(t),c=i.f,l=0;while(s.length>l)c.call(t,o=s[l++])&&e.push(o)}return e}},f1ae:function(t,e,n){"use strict";var r=n("86cc"),a=n("4630");t.exports=function(t,e,n){e in t?r.f(t,e,a(0,n)):t[e]=n}}}]);